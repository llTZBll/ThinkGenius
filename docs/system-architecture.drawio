<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="xxx" version="22.1.16" type="device">
  <diagram name="ThinkGenius2-Architecture" id="architecture-diagram">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="800" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 背景和标题 -->
        <mxCell id="title" value="ThinkGenius2 系统架构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#1a237e;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- 展示层标题 -->
        <mxCell id="presentation-title" value="展示层 (Presentation Layer)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#4361ee;" vertex="1" parent="1">
          <mxGeometry x="450" y="80" width="300" height="30" as="geometry" />
        </mxCell>
        
        <!-- Web前端 -->
        <mxCell id="web-frontend" value="Web前端&#xa;&#xa;Vue 3 + Vite&#xa;Tailwind CSS&#xa;Axios&#xa;Markdown-it&#xa;BlockCanvas.vue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4361ee;strokeColor=#3a0ca3;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#3a0ca3;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="100" y="130" width="300" height="120" as="geometry" />
        </mxCell>
        
        <!-- 移动端App -->
        <mxCell id="mobile-app" value="移动端App&#xa;&#xa;React Native&#xa;Flutter&#xa;iOS/Android&#xa;响应式设计&#xa;触摸交互" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4361ee;strokeColor=#3a0ca3;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#3a0ca3;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="800" y="130" width="300" height="120" as="geometry" />
        </mxCell>
        
        <!-- 业务层标题 -->
        <mxCell id="business-title" value="业务层 (Business Layer) - API服务器集群" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#f72585;" vertex="1" parent="1">
          <mxGeometry x="350" y="300" width="500" height="30" as="geometry" />
        </mxCell>
        
        <!-- API服务器节点1 -->
        <mxCell id="api-server-1" value="API服务器节点1&#xa;&#xa;Spring Boot 3&#xa;Java 21&#xa;Port: 8081&#xa;Load Balancer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f72585;strokeColor=#b5179e;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#b5179e;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="100" y="350" width="300" height="100" as="geometry" />
        </mxCell>
        
        <!-- API服务器节点2 -->
        <mxCell id="api-server-2" value="API服务器节点2&#xa;&#xa;Spring Security&#xa;JWT认证&#xa;Port: 8082&#xa;Health Check" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f72585;strokeColor=#b5179e;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#b5179e;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="450" y="350" width="300" height="100" as="geometry" />
        </mxCell>
        
        <!-- API服务器节点3 -->
        <mxCell id="api-server-3" value="API服务器节点3&#xa;&#xa;RESTful API&#xa;CORS支持&#xa;Port: 8083&#xa;Auto Scaling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f72585;strokeColor=#b5179e;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#b5179e;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="800" y="350" width="300" height="100" as="geometry" />
        </mxCell>
        
        <!-- 核心服务模块 -->
        <mxCell id="ai-service" value="AI服务&#xa;百度千帆API&#xa;关键词生成" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4cc9f0;strokeColor=#00b4d8;fontColor=#ffffff;fontSize=11;fontStyle=1;gradientColor=#00b4d8;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="100" y="500" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="block-service" value="块管理服务&#xa;BlockService&#xa;位置算法" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4cc9f0;strokeColor=#00b4d8;fontColor=#ffffff;fontSize=11;fontStyle=1;gradientColor=#00b4d8;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="350" y="500" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="user-service" value="用户认证服务&#xa;UserService&#xa;JWT认证" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4cc9f0;strokeColor=#00b4d8;fontColor=#ffffff;fontSize=11;fontStyle=1;gradientColor=#00b4d8;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="600" y="500" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="relation-service" value="关系管理服务&#xa;BlockRelationService&#xa;连接线算法" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4cc9f0;strokeColor=#00b4d8;fontColor=#ffffff;fontSize=11;fontStyle=1;gradientColor=#00b4d8;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="850" y="500" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- 数据层标题 -->
        <mxCell id="data-title" value="数据层 (Data Layer)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#4895ef;" vertex="1" parent="1">
          <mxGeometry x="450" y="620" width="300" height="30" as="geometry" />
        </mxCell>
        
        <!-- MongoDB数据库 -->
        <mxCell id="mongodb" value="MongoDB 数据库&#xa;&#xa;Collections:&#xa;users, blocks,&#xa;block_relations, keywords" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4895ef;strokeColor=#1d3557;fontColor=#ffffff;fontSize=12;fontStyle=1;gradientColor=#1d3557;gradientDirection=north;" vertex="1" parent="1">
          <mxGeometry x="400" y="670" width="400" height="100" as="geometry" />
        </mxCell>
        
        <!-- 连接线 -->
        <!-- 前端到API服务器的连接 -->
        <mxCell id="web-to-api" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4361ee;" edge="1" parent="1" source="web-frontend" target="api-server-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="250" as="sourcePoint" />
            <mxPoint x="250" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="mobile-to-api" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4361ee;" edge="1" parent="1" source="mobile-app" target="api-server-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="250" as="sourcePoint" />
            <mxPoint x="950" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- API服务器之间的负载均衡连接 -->
        <mxCell id="lb-1-2" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#f72585;dashed=1;" edge="1" parent="1" source="api-server-1" target="api-server-2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="lb-2-3" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#f72585;dashed=1;" edge="1" parent="1" source="api-server-2" target="api-server-3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="750" y="400" as="sourcePoint" />
            <mxPoint x="800" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 服务模块到数据库的连接 -->
        <mxCell id="ai-to-db" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4cc9f0;" edge="1" parent="1" source="ai-service" target="mongodb">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="200" y="580" as="sourcePoint" />
            <mxPoint x="500" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="block-to-db" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4cc9f0;" edge="1" parent="1" source="block-service" target="mongodb">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="450" y="580" as="sourcePoint" />
            <mxPoint x="550" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="user-to-db" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4cc9f0;" edge="1" parent="1" source="user-service" target="mongodb">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="700" y="580" as="sourcePoint" />
            <mxPoint x="600" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="relation-to-db" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4cc9f0;" edge="1" parent="1" source="relation-service" target="mongodb">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="950" y="580" as="sourcePoint" />
            <mxPoint x="650" y="670" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 外部AI服务连接 -->
        <mxCell id="external-ai" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#4cc9f0;dashed=1;" edge="1" parent="1" source="ai-service" target="">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="100" y="500" as="sourcePoint" />
            <mxPoint x="50" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="external-ai-label" value="百度千帆API" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#4cc9f0;" vertex="1" parent="1">
          <mxGeometry x="20" y="450" width="100" height="20" as="geometry" />
        </mxCell>
        
        <!-- 图例 -->
        <mxCell id="legend-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="50" width="200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-title" value="图例" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="150" y="70" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-presentation" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4361ee;strokeColor=#3a0ca3;" vertex="1" parent="1">
          <mxGeometry x="70" y="95" width="15" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-presentation-text" value="展示层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="95" y="95" width="60" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-business" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f72585;strokeColor=#b5179e;" vertex="1" parent="1">
          <mxGeometry x="70" y="115" width="15" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-business-text" value="业务层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="95" y="115" width="60" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-data" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4895ef;strokeColor=#1d3557;" vertex="1" parent="1">
          <mxGeometry x="70" y="135" width="15" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-data-text" value="数据层" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="95" y="135" width="60" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-ai" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4cc9f0;strokeColor=#00b4d8;" vertex="1" parent="1">
          <mxGeometry x="70" y="155" width="15" height="15" as="geometry" />
        </mxCell>
        
        <mxCell id="legend-ai-text" value="AI服务" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="95" y="155" width="60" height="15" as="geometry" />
        </mxCell>
        
        <!-- 技术栈说明 -->
        <mxCell id="tech-stack" value="技术架构: 展示层/业务层/数据层三层架构 • 微服务设计 • 云原生支持" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="300" y="780" width="600" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile> 